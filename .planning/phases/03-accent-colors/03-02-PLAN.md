---
phase: 03-accent-colors
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified:
  - app/components/ui/Button.tsx
  - app/components/ui/Card.tsx
  - app/components/ui/Badge.tsx
autonomous: true

must_haves:
  truths:
    - "Buttons have distinct hover, active, and focus states"
    - "Hovering cards produces subtle glow effect"
    - "Disabled buttons do not show hover effects"
    - "Badge glow opacity is consistent (30%)"
  artifacts:
    - path: "app/components/ui/Button.tsx"
      provides: "Button with glow hover, active press state, disabled prevention"
      contains: "active:scale"
    - path: "app/components/ui/Card.tsx"
      provides: "Card with glow variant"
      contains: "glow-card"
    - path: "app/components/ui/Badge.tsx"
      provides: "Badge with standardized glow"
      contains: "shadow-md"
  key_links:
    - from: "app/components/ui/Button.tsx"
      to: "tailwind.config.ts"
      via: "glow utilities"
      pattern: "shadow-glow-primary"
    - from: "app/components/ui/Card.tsx"
      to: "tailwind.config.ts"
      via: "glow utilities"
      pattern: "shadow-glow-card"
---

<objective>
Refactor Button, Card, and Badge components to use glow tokens with proper state handling.

Purpose: Create consistent, accessible interactive states across all UI components with colored glow effects that match the dark theme.

Output: Updated Button with active state, Card with glow variant, Badge with standardized glow opacity.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-accent-colors/03-RESEARCH.md
@.planning/phases/03-accent-colors/03-01-SUMMARY.md

# Reference files to modify
@app/components/ui/Button.tsx
@app/components/ui/Card.tsx
@app/components/ui/Badge.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Refactor Button with glow and active state</name>
  <files>app/components/ui/Button.tsx</files>
  <action>
Update the `variantClasses` in Button.tsx to:
1. Use semantic tokens instead of legacy tokens
2. Add distinct `:active` pressed state
3. Use new glow shadow utilities
4. Change transition duration from 300ms to 150ms
5. Prevent hover/active effects on disabled buttons

Replace the existing variantClasses with:

```typescript
const variantClasses = {
  primary: [
    // Base
    "bg-gradient-primary text-content-primary font-bold",
    // Hover (glow + subtle scale)
    "hover:shadow-glow-primary hover:scale-[1.02]",
    // Active/pressed (reduced scale, dimmed)
    "active:scale-[0.98] active:brightness-90 active:shadow-glow-sm",
    // Transition (150ms per research - not 300ms)
    "transition-all duration-150",
    // Disabled (prevent all hover/active effects)
    "disabled:hover:shadow-none disabled:hover:scale-100 disabled:active:scale-100 disabled:active:brightness-100",
  ].join(" "),

  secondary: [
    // Base (cyan accent)
    "bg-transparent border-2 border-accent-tertiary text-accent-tertiary font-semibold",
    // Hover (fill + glow)
    "hover:bg-accent-tertiary hover:text-content-primary hover:shadow-glow-tertiary hover:scale-[1.02]",
    // Active/pressed
    "active:scale-[0.98] active:brightness-90",
    // Transition
    "transition-all duration-150",
    // Disabled
    "disabled:hover:shadow-none disabled:hover:scale-100 disabled:hover:bg-transparent disabled:hover:text-accent-tertiary",
  ].join(" "),
};
```

Also update the icon filter transition in content wrapper from 300ms to 150ms:
Change `[transition:filter_300ms_ease-in-out]` to `[transition:filter_150ms_ease-in-out]`

Note on semantic tokens:
- `text-content-primary` instead of `text-text-primary` (matches Tailwind convention)
- `border-accent-tertiary` instead of `border-secondary` (semantic token)
- `shadow-glow-primary` and `shadow-glow-tertiary` (new glow utilities)
  </action>
  <verify>
1. `grep "active:scale" app/components/ui/Button.tsx` confirms active state exists
2. `grep "duration-150" app/components/ui/Button.tsx` confirms fast transitions
3. `grep "disabled:hover:shadow-none" app/components/ui/Button.tsx` confirms disabled prevention
  </verify>
  <done>
Button has distinct hover (glow + scale up), active (scale down + dim), and focus states.
Disabled buttons do not animate.
Transitions are 150ms.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add glow variant to Card</name>
  <files>app/components/ui/Card.tsx</files>
  <action>
Add a new `glow` variant to Card.tsx that combines the existing hover behavior with a subtle colored glow.

Update the `variantClasses` object:

```typescript
const variantClasses = {
  // Standard glassmorphism card with backdrop blur
  default:
    "bg-surface-elevated/40 backdrop-blur-lg border border-border shadow-raised",

  // Interactive card with hover lift effect
  hover:
    "bg-surface-elevated/40 backdrop-blur-lg border border-border shadow-raised " +
    "hover:bg-surface-elevated/60 hover:-translate-y-1 hover:shadow-overlay " +
    "hover:border-border-strong transition-all duration-200 cursor-pointer",

  // Interactive card with hover lift AND glow effect
  // Uses shadow-glow-card (depth + subtle colored glow combined)
  glow:
    "bg-surface-elevated/40 backdrop-blur-lg border border-border shadow-raised " +
    "hover:bg-surface-elevated/60 hover:-translate-y-1 hover:shadow-glow-card " +
    "hover:border-border-strong transition-all duration-200 cursor-pointer",

  // Flat card without glassmorphism
  flat: "bg-surface-raised border border-border-subtle",
};
```

Also update the CardProps interface to include the new variant:

```typescript
export interface CardProps {
  children: React.ReactNode;
  variant?: "default" | "hover" | "glow" | "flat";
  padding?: "none" | "sm" | "md" | "lg";
  className?: string;
  onClick?: () => void;
}
```

Update the hover variant transition from 300ms to 200ms for snappier feel.
  </action>
  <verify>
1. `grep "glow:" app/components/ui/Card.tsx` confirms glow variant exists
2. `grep "shadow-glow-card" app/components/ui/Card.tsx` confirms using new token
3. `grep "duration-200" app/components/ui/Card.tsx` confirms faster transitions
  </verify>
  <done>
Card has new "glow" variant that combines lift effect with subtle colored glow.
Transition duration reduced to 200ms.
  </done>
</task>

<task type="auto">
  <name>Task 3: Standardize Badge glow opacity</name>
  <files>app/components/ui/Badge.tsx</files>
  <action>
Update Badge.tsx to use consistent 30% glow opacity across variants and faster transitions.

Update the `variantClasses` object:

```typescript
const variantClasses = {
  // Default badge with subtle glassmorphism
  default:
    "bg-surface-elevated/60 text-content-secondary border border-border backdrop-blur-sm " +
    "hover:bg-surface-elevated/80 hover:text-content-primary hover:border-border-strong " +
    "transition-all duration-150",

  // Primary badge with gradient and consistent glow
  primary:
    "bg-gradient-primary text-content-primary border border-accent-secondary/30 " +
    "hover:shadow-md hover:shadow-accent-primary/30 transition-all duration-150",

  // Secondary badge (cyan accent) with matching glow
  secondary:
    "bg-accent-tertiary/20 text-accent-tertiary border border-accent-tertiary/50 " +
    "hover:bg-accent-tertiary/30 hover:border-accent-tertiary " +
    "hover:shadow-md hover:shadow-accent-tertiary/30 transition-all duration-150",

  // Success badge with matching glow
  success:
    "bg-status-success/20 text-status-success border border-status-success/50 " +
    "hover:bg-status-success/30 hover:border-status-success " +
    "hover:shadow-md hover:shadow-status-success/30 transition-all duration-150",
};
```

Changes:
1. All hover glows now use 30% opacity (was 30% for primary, none for others)
2. Transition duration changed from 200ms to 150ms for consistency
3. Secondary and success variants now have matching glow effects on hover
  </action>
  <verify>
1. `grep "/30" app/components/ui/Badge.tsx` returns multiple matches (consistent opacity)
2. `grep "duration-150" app/components/ui/Badge.tsx` confirms fast transitions
3. `grep "shadow-accent-tertiary" app/components/ui/Badge.tsx` confirms secondary has glow
  </verify>
  <done>
All Badge variants have consistent 30% opacity glow on hover.
Transitions standardized to 150ms.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Button shows visual feedback on hover (glow), press (scale down), and focus (ring)
3. Card `glow` variant shows colored glow on hover
4. Badge variants have consistent glow intensity
5. Disabled button does not show any hover/active effects
</verification>

<success_criteria>
- Button has distinct hover state (glow + scale 1.02)
- Button has distinct active state (scale 0.98 + brightness 90%)
- Button disabled state prevents all animations
- Card has new "glow" variant with depth + colored glow
- Badge glow opacity is consistently 30% across all variants
- All component transitions are 150-200ms (not 300ms)
</success_criteria>

<output>
After completion, create `.planning/phases/03-accent-colors/03-02-SUMMARY.md`
</output>
