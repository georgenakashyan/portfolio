---
phase: 02-surface-styling
plan: 04
type: execute
wave: 3
depends_on: ["02-02"]
files_modified:
  - app/components/Experience.tsx
  - app/components/ui/Input.tsx
  - app/components/ui/Textarea.tsx
autonomous: true

must_haves:
  truths:
    - "Experience component uses semantic tokens for hover states"
    - "Form inputs use semantic surface tokens instead of hardcoded colors"
    - "All components have consistent depth hierarchy"
  artifacts:
    - path: "app/components/Experience.tsx"
      provides: "Semantic Experience card styling"
      contains: "surface-elevated"
    - path: "app/components/ui/Input.tsx"
      provides: "Semantic form input styling"
      contains: "surface-raised"
    - path: "app/components/ui/Textarea.tsx"
      provides: "Semantic textarea styling"
      contains: "surface-raised"
  key_links:
    - from: "app/components/Experience.tsx"
      to: "tailwind.config.ts"
      via: "Tailwind utility classes"
      pattern: "surface-elevated|border-border"
    - from: "app/components/ui/Input.tsx"
      to: "tailwind.config.ts"
      via: "Tailwind utility classes"
      pattern: "surface-raised"
---

<objective>
Migrate secondary components to use semantic tokens for consistent depth hierarchy.

Purpose: Complete the surface styling migration by updating Experience cards, Input, and Textarea components. These components currently use broken or hardcoded styling that should use the semantic token system.

Output: Updated Experience.tsx, Input.tsx, and Textarea.tsx with semantic token usage.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-surface-styling/02-RESEARCH.md
@.planning/phases/02-surface-styling/02-02-SUMMARY.md
@app/components/Experience.tsx
@app/components/ui/Input.tsx
@app/components/ui/Textarea.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix Experience component styling</name>
  <files>app/components/Experience.tsx</files>
  <action>
The Experience component has broken styling (`border-background` is undefined). Update the container div classes:

Current (broken):
```typescript
<div className='grid grid-cols-10 grid-rows-1 -m-6 p-6 space-x-10 border border-background rounded-3xl hover:bg-opacity-5 hover:bg-slate-200 transition'>
```

Replace with semantic tokens:
```typescript
<div className='grid grid-cols-10 grid-rows-1 -m-6 p-6 space-x-10 border border-border rounded-3xl hover:bg-surface-elevated/10 transition-colors duration-200'>
```

Also update the text color classes:
- `text-text_secondary` -> `text-content-secondary` (note the underscore was wrong anyway)

Changes:
- `border-background` (undefined) -> `border-border` (semantic token)
- `hover:bg-opacity-5 hover:bg-slate-200` (light color on dark theme) -> `hover:bg-surface-elevated/10` (semantic, works with dark theme)
- `transition` -> `transition-colors duration-200` (explicit what transitions)
- `text-text_secondary` (underscore) -> `text-content-secondary` (semantic, correct format)
  </action>
  <verify>
1. Read Experience.tsx and confirm:
   - No `border-background` (was undefined/broken)
   - No `text_secondary` with underscore
   - No `bg-slate-200` (wrong for dark theme)
   - Contains `border-border`, `surface-elevated`, `content-secondary`
2. `npx tsc --noEmit` passes
  </verify>
  <done>Experience.tsx uses semantic tokens and has working hover state</done>
</task>

<task type="auto">
  <name>Task 2: Update Input component to use semantic tokens</name>
  <files>app/components/ui/Input.tsx</files>
  <action>
Replace hardcoded background color with semantic token:

Current (hardcoded):
```typescript
const baseClasses = `w-full px-4 py-3 bg-[#1a2332] text-white ...
```

```typescript
style={{
  WebkitTextFillColor: "#ffffff",
  WebkitBoxShadow: "0 0 0px 1000px #1a2332 inset",
}}
```

Replace with:
```typescript
const baseClasses = `w-full px-4 py-3 bg-surface-raised text-content-primary placeholder:text-content-muted ...
```

For the style prop (needed for autofill), we still need hardcoded values for the hack, but use the same color as surface-raised:
```typescript
style={{
  WebkitTextFillColor: "var(--text-primary)",
  WebkitBoxShadow: "0 0 0px 1000px hsl(217 33% 17%) inset",
}}
```

Note: The WebkitBoxShadow hack needs a literal color value because CSS variables don't work there. Use the HSL equivalent of --surface-raised (#1e293b).

Also update border tokens in getValidationClasses:
- `border-white/10` -> `border-border`
- `border-primary-start` -> `border-accent-primary`
  </action>
  <verify>
1. Read Input.tsx and confirm:
   - No `bg-[#1a2332]` (should be `bg-surface-raised`)
   - No `text-white` (should be `text-content-primary`)
   - No `text-slate-400` (should be `text-content-muted`)
   - No `border-white/10` (should be `border-border`)
2. `npx tsc --noEmit` passes
  </verify>
  <done>Input.tsx uses semantic tokens for background, text, and border colors</done>
</task>

<task type="auto">
  <name>Task 3: Update Textarea component to match Input styling</name>
  <files>app/components/ui/Textarea.tsx</files>
  <action>
Apply the same semantic token updates as Input.tsx. Textarea likely has the same patterns:

Replace:
- `bg-[#1a2332]` -> `bg-surface-raised`
- `text-white` -> `text-content-primary`
- `placeholder:text-slate-400` -> `placeholder:text-content-muted`
- `border-white/10` -> `border-border`
- `border-primary-start` -> `border-accent-primary`

For the WebkitBoxShadow autofill hack (if present), use the same HSL value:
```typescript
WebkitBoxShadow: "0 0 0px 1000px hsl(217 33% 17%) inset",
```

Ensure the styling matches Input.tsx for visual consistency of form elements.
  </action>
  <verify>
1. Read Textarea.tsx and confirm same token usage as Input.tsx:
   - Uses `bg-surface-raised`
   - Uses `text-content-primary`
   - Uses `placeholder:text-content-muted`
   - Uses `border-border`
2. `npx tsc --noEmit` passes
  </verify>
  <done>Textarea.tsx uses semantic tokens matching Input.tsx styling</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Experience.tsx: No broken classes, uses semantic tokens, hover works
2. Input.tsx: No hardcoded colors in classes, uses semantic tokens
3. Textarea.tsx: Matches Input.tsx token usage
4. `npx tsc --noEmit` passes
5. Visual check: all components have consistent depth and work correctly
</verification>

<success_criteria>
1. Experience hover state works and uses theme-appropriate colors
2. Form inputs (Input, Textarea) use semantic surface tokens
3. All components have consistent depth hierarchy
4. No hardcoded color values in Tailwind classes (except autofill hack in style prop)
5. No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-surface-styling/02-04-SUMMARY.md`
</output>
