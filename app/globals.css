@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	/* =========================
	   LAYER 1: PRIMITIVE TOKENS
	   Raw color values - never use directly in components
	   ========================= */
	--color-neutral-950: #0a0a0f;
	--color-neutral-900: #0a0e27;
	--color-neutral-800: #0f172a;
	--color-neutral-700: #1e293b;
	--color-neutral-400: #94a3b8;
	--color-neutral-300: #cbd5e1;
	--color-neutral-100: #f1f5f9;

	--color-primary-500: #3b82f6;
	--color-violet-500: #8b5cf6;
	--color-cyan-500: #06b6d4;
	--color-emerald-500: #10b981;
	--color-rose-500: #f43f5e;

	/* =========================
	   LAYER 2: SEMANTIC TOKENS
	   Purpose-based mappings - use these in components
	   ========================= */

	/* Surfaces */
	--surface-base: var(--color-neutral-900);
	--surface-elevated: var(--color-neutral-800);
	--surface-raised: var(--color-neutral-700);
	--surface-sunken: var(--color-neutral-950);
	--surface-overlay: #243548;

	/* Text */
	--text-primary: var(--color-neutral-100);
	--text-secondary: var(--color-neutral-300);
	--text-muted: var(--color-neutral-400);

	/* Accents */
	--accent-primary: var(--color-primary-500);
	--accent-secondary: var(--color-violet-500);
	--accent-tertiary: var(--color-cyan-500);

	/* Status */
	--status-success: var(--color-emerald-500);
	--status-error: var(--color-rose-500);

	/* Gradients */
	--gradient-primary-from: var(--color-primary-500);
	--gradient-primary-to: var(--color-violet-500);
	--gradient-surface-from: var(--color-neutral-900);
	--gradient-surface-to: var(--color-neutral-800);

	/* Borders */
	--border-subtle: rgba(255, 255, 255, 0.05);
	--border-default: rgba(255, 255, 255, 0.1);
	--border-strong: rgba(255, 255, 255, 0.2);

	/* Focus (for accessibility) */
	--focus-ring-color: #ffffff;
	--focus-ring-offset: 2px;
	--focus-ring-width: 2px;
	--focus-shadow-color: rgba(0, 0, 0, 0.5);

	/* Shadows (dark theme optimized - layered for realism) */
	--shadow-color: 220deg 40% 2%;
	--shadow-raised:
		0px 1px 2px hsl(var(--shadow-color) / 0.3),
		0px 2px 4px hsl(var(--shadow-color) / 0.3);
	--shadow-overlay:
		0px 2px 4px hsl(var(--shadow-color) / 0.4),
		0px 4px 8px hsl(var(--shadow-color) / 0.3),
		0px 8px 16px hsl(var(--shadow-color) / 0.2);

	/* =========================
	   LEGACY TOKENS (keep during migration)
	   Remove after all components migrated
	   ========================= */
	--background-start: #0a0e27;
	--background-end: #0f172a;
	--primary-start: #3b82f6;
	--primary-end: #8b5cf6;
	--secondary: #06b6d4;
	/* Note: --text-primary and --text-secondary are now semantic tokens above */
	--card-bg: #1e293b;
	--success: #10b981;
}

/* =========================
   H1 EXPLICIT SIZING
   Fixes H1UserAgentFontSizeInSection Lighthouse warning
   Uses :where() for zero specificity - won't override component styles
   Source: MDN Blog - H1 element styles
   ========================= */
:where(h1) {
	font-size: 2em;
	margin-block: 0.67em;
}

/* =========================
   FOCUS INDICATORS
   Two-color focus ring visible on both light and dark backgrounds
   Source: W3C WCAG Technique C40
   ========================= */
:focus-visible {
	outline: var(--focus-ring-width) solid var(--focus-ring-color);
	outline-offset: var(--focus-ring-offset);
	box-shadow: 0 0 0 calc(var(--focus-ring-width) + var(--focus-ring-offset)) var(--focus-shadow-color);
}

/* Remove default outline for mouse users (keep for keyboard) */
:focus:not(:focus-visible) {
	outline: none;
}

/* =========================
   REDUCED MOTION SUPPORT
   Respects user's prefers-reduced-motion setting
   Note: Keeps instant transitions for state feedback (opacity/color)
   Source: W3C WCAG Technique C39
   ========================= */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

body {
	color: var(--text-primary);
	background: linear-gradient(to bottom right, var(--background-start), var(--background-end));
	min-height: 100vh;
}

@layer utilities {
	/* Marquee animation for tech stack */
	@keyframes marquee {
		0% {
			transform: translateX(0);
		}
		100% {
			transform: translateX(-50%);
		}
	}

	.animate-marquee {
		animation: marquee 30s linear infinite;
	}

	.animate-marquee:hover {
		animation-play-state: paused;
	}
}

/* MDX Content Styling */
.mdx-content {
	color: var(--text-primary);
	line-height: 1.75;
}

.mdx-content h2 {
	font-size: 1.875rem;
	font-weight: 700;
	margin-top: 2.5rem;
	margin-bottom: 1.25rem;
	background: linear-gradient(to right, var(--primary-start), var(--primary-end));
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
	line-height: 1.3;
}

.mdx-content h2:first-child {
	margin-top: 0;
}

.mdx-content h3 {
	font-size: 1.5rem;
	font-weight: 600;
	margin-top: 2rem;
	margin-bottom: 1rem;
	color: var(--text-primary);
	line-height: 1.4;
}

.mdx-content h4 {
	font-size: 1.25rem;
	font-weight: 600;
	margin-top: 1.5rem;
	margin-bottom: 0.75rem;
	color: var(--text-primary);
	line-height: 1.4;
}

.mdx-content p {
	margin-bottom: 1.25rem;
	color: var(--text-secondary);
	font-size: 1rem;
}

.mdx-content ul,
.mdx-content ol {
	margin-bottom: 1.5rem;
	padding-left: 1.5rem;
}

.mdx-content ul {
	list-style-type: disc;
}

.mdx-content ol {
	list-style-type: decimal;
}

.mdx-content li {
	margin-bottom: 0.75rem;
	color: var(--text-secondary);
	line-height: 1.7;
}

.mdx-content li strong {
	color: var(--text-primary);
	font-weight: 600;
}

.mdx-content strong {
	color: var(--text-primary);
	font-weight: 600;
}

.mdx-content em {
	font-style: italic;
}

.mdx-content code {
	background-color: rgba(59, 130, 246, 0.1);
	color: var(--primary-start);
	padding: 0.2rem 0.4rem;
	border-radius: 0.25rem;
	font-size: 0.875rem;
	font-family: var(--font-jetbrains-mono), monospace;
}

.mdx-content pre {
	background-color: rgba(30, 41, 59, 0.8);
	padding: 1.25rem;
	border-radius: 0.75rem;
	overflow-x: auto;
	margin-bottom: 1.5rem;
	border: 1px solid rgba(255, 255, 255, 0.1);
}

.mdx-content pre code {
	background-color: transparent;
	padding: 0;
	color: var(--text-secondary);
}

.mdx-content a {
	color: var(--primary-start);
	text-decoration: underline;
	transition: color 0.2s;
}

.mdx-content a:hover {
	color: var(--primary-end);
}

.mdx-content blockquote {
	border-left: 4px solid var(--primary-start);
	padding-left: 1.25rem;
	margin: 1.5rem 0;
	color: var(--text-secondary);
	font-style: italic;
}

.mdx-content hr {
	border: none;
	border-top: 1px solid rgba(255, 255, 255, 0.1);
	margin: 2.5rem 0;
}